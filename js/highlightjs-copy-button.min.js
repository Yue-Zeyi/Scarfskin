/*! highlightjs-copy-button v1.0.5 */
(function (i) {
    var h = "hljs-button", j = "hljs-ln-code", a = "复制", e = "Error", d = "复制成功";
    String.prototype.format = String.prototype.f = function () {
        var l = arguments;
        return this.replace(/\{(\d+)\}/g, function (o, p) {
            return l[p] ? l[p] : o
        })
    };
    if (typeof i.hljs === "undefined") {
        console.error("highlight.js not detected!")
    } else {
        i.hljs.initCopyButtonOnLoad = f;
        i.hljs.addCopyButton = k;
        i.hljs.copyCode = g;
        c()
    }

    function g(n) {
        var o = n.target || n.srcElement;
        if (o.className === h) {
            n.preventDefault();
            var l = document.getElementById("post-id-target");
            if (!l) {
                l = document.createElement("textarea");
                l.style.position = "absolute";
                l.style.left = "-9999px";
                l.style.top = "0";
                l.id = "hljs-copy-el";
                document.body.appendChild(l)
            }
            l.textContent = n.currentTarget.innerText;
            l.select();
            try {
                var p = document.execCommand("copy");
                o.dataset.title = p ? d : e;
                if (p) {
                    setTimeout(function () {
                        o.dataset.title = a
                    }, 2000)
                }
            } catch (m) {
                o.dataset.title = e
            }
        }
    }

    function c() {
        var l = document.createElement("style");
        l.type = "text/css";
        l.innerHTML = ([".hljs{position: relative}", ".hljs:hover .{0}{display: block}", ".{0}{", "display: none;", "position: absolute;", "right: 0;", "top: 0;", "background-color: white;", "padding: 2px 10px;", "margin: 3px;", "border-radius: 5px;", "border: 1px solid darkgray;", "cursor: pointer;", "box-shadow: 0 1px 1px rgba(0,0,0,0.12), 0 1px 1px rgba(0,0,0,0.24);", "}", ".{0}:after{", "content: attr(data-title)", "}"].join("")).format(h);
        document.getElementsByTagName("head")[0].appendChild(l)
    }

    function f() {
        if (document.readyState === "complete") {
            b()
        } else {
            i.addEventListener("DOMContentLoaded", b)
        }
    }

    function b() {
        try {
            var n = document.querySelectorAll("code.hljs");
            for (var l in n) {
                if (n.hasOwnProperty(l)) {
                    k(n[l])
                }
            }
        } catch (m) {
            console.error("CopyButton error: ", m)
        }
    }

    function k(l) {
        if (typeof l !== "object") {
            return
        }
        l.innerHTML = l.innerHTML + ('<div class="{0}" data-title="{1}"></div>').format(h, a);
        l.setAttribute("onclick", "hljs.copyCode(event)")
    }
}(window));
